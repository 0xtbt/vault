<section class="section">
  <div class="container is-widescreen">
    {{!-- ARG TODO setup error state and return --}}
    <ReplicationPage @model={{model}} as |Page|>
      <Page.header 
        @showTabs={{false}} 
        @model={{model}}
      />
      <Page.toggle />
      <Page.dashboard 
      {{!-- passing in component to render so that the yielded components are flexible based on the dashboard --}}
        @componentToRender='replication-secondary-card' as |Dashboard|>
        <Dashboard.card
          @title="States"
          @data={{model}}
          @state={{if model.dr.state model.dr.state "unknown"}}
          @connection={{if model.drStateDisplay model.drStateDisplay 'unknown'}}
        />
        <Dashboard.card
          @title="Write-Ahead Logs (WALs)"
          @data={{model}}
          @lastWAL={{if model.dr.lastWAL (format-number model.dr.lastWAL) '0'}}
          @lastRemoteWAL={{if model.dr.lastRemoteWAL (format-number model.dr.lastRemoteWAL) '0'}}
        />
        <Dashboard.rows @data={{model.dr}}/>
      </Page.dashboard>
    </ReplicationPage>
  </div>
</section>
